---
title: 쿠버네티스입문 15장 클러스터 네트워킹 구성
categories: ["Kubernetes", "Book"]
tags: ["K8S", "Kubernetes", "쿠버네티스 입문", "클러스터 네트워킹", "Book", "동양북스", "90가지 예제로 배우는 컨테이너 관리 자동화 표준"] 
toc: true
widgets:
  - type: toc
    position: right
sidebar:
  right:
    sticky: true
date: 2021-01-14 08:38:48
---

# 클러스터 네트워킹 구성

## 파드 네트워킹
- 파드에 속한 컨테이너들은 veth0 하나를 공유하기 때문에 모두 같은 IP 를 갖고 있다.
- 파드의 veth0 는 pause 컨테이너 네임스페이스에 속한 장치이다.
- 파드안 컨테이너들은 로컬주소로 서로 접속가능하다.
- 파드 안에서 구분은 포트로 한다.
- 멀티노드일 경우 각각의 호스트 내의 파드 IP 를 다른 노드의 파드 IP와 동일하게 하는건 좋은 방법이 아니다.
- CNI 를 통해서 호스트 네트워크 네임스페이스의 각종 네트워크 기능들을 사용한다.

## 서비스 네트워킹
- NodePort 사용시 서비스의 엔드포인트가 있는 호스트에 NAT 테이블이 생성됨
- 사용자가 지정한 서비스용 IP 를 Pod의 IP와 연결해주는데 kube-proxy가 이 기능을 담당한다.
